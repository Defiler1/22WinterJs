<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>쿵쿵따</title>
</head>
<body>
   <div><span id = 'order'>1</span>번째 참가자</div>
   <div>제시어: <span id = 'word'></span></div>
   <input type="text">
   <button>입력</button>
   
   <script>
      const number = Number(prompt('몇명이 참가합니까?'));
      if(number){
         const $order = document.querySelector('#order');
         const $word = document.querySelector('#word');
         const $input = document.querySelector('input');
         const $button = document.querySelector('button');
         let word
         let newWord
         
         const onClickButton = () => {
            if (newWord.length === 3 && (!word || word[word.length -1] === newWord[0])){
               word = newWord;
               $word.textContent = word;
               const order = Number($order.textContent);
               if(order + 1 > number){
                  $order.textContent = 1;
               }else{
                  $order.textContent = order + 1;
               }
            }
            else{
               alert('틀렸습니다.')
            }
            $input.value = ''
            $input.focus()
         }
   
         const onInput = (event) => {
            console.log(event.target.value);
            newWord = event.target.value;
         }
   
         $input.addEventListener('input', onInput);
         $button.addEventListener('click', onClickButton);
      }
</script>
</body>
</html>